if varexist debug
    sysmsg 'caster.life_support.arePoisoned.razor'
    overhead 'caster.life_support.arePoisoned.razor'
endif

if poisoned and varexist haveCurePots
    while poisoned
    if findtype "Orange Potion" backpack
            hotkey 'Drink Cure'
            wait 300
        elseif poisoned and not findtype "Orange Potion" backpack
            @unsetvar haveCurePots
            break
        endif
    endwhile
endif

while poisoned
    cast 'Cure'
    waitfortarget
    target 'self'
    wait 500
endwhile

script 'Mage\masters\lifeSupport'

        