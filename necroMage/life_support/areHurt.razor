if hp < maxhp - 65 and haveHealPots and not cooldown 'Heal'
    if findtype "Orange Potion" backpack
        hotkey 'Drink Heal'
        wait 250
    else
        overhead 'Out of heals!' 34
        @unsetvar haveHealP
    endif
endif

if hp < maxhp
    if diffhits > 40
        #TODO may need to test for target range.
        cast 'Greater Heal'
        waitfortarget
        target 'self'
        wait 500
    elseif diffhits > 0
        #TODO may need to test for target range.
        cast 'Heal'
        waitfortarget 
        target 'self'
        wait 500
    endif
endif
script 'necroMage\masters\lifeSupport'
