##Defines Priority for healing and support skills
# 1. Magery = haveMagery
# 2. CurePots = haveCurePots
# 3. HealPots = haveHealPots
##
if varexist rebuild
    if varexist haveMagery
        @unsetvar haveMagery
    endif
    if varexist haveCurePots
        @unsetvar haveCurePots
    endif
    if varexist haveHealPots
        @unsetvar haveHealPots
    endif
    if varexist havePopPouch
        @unsetvar havePopPouch
    endif
endif


if not varexist haveMagery and skill magery >= 80
    @setvar haveMagery 1
endif
if not varexist haveCurePots and findtype "Orange Potion" backpack 
    @setvar haveCurePots 1
endif
if not varexist haveHealPots and findtype "Yellow Potion" backpack
    @setvar haveHealPots 1
endif
if not varexist havePopPouch and findtype "pouch" backpack 38
    @setvar havePopPouch 1
endif

if hp < 20
    overhead "PICKLES!!!!" 34
    wait 100
endif
if paralyzed and varexist havePopPouch
    script 'Mage\life_support\areParalized'
elseif poisoned
    script 'Mage\life_support\arePoisioned'
elseif hp < maxhp
    script 'Mage\life_support\areHurt'
#elseif findbuff "bleed" #TODO: need to how to cure with magery or pots
#    script 'necroMage\life_support\areBleeding'
#elseif findbuff "disease" #TODO: need to how to cure with magery or pots
#    script 'necroMage\life_support\areDiseased'
endif
script 'Mage\masters\targeting'